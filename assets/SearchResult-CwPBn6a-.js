import{e as A,d as $,r as k,m as V,q as G,s as z,v as x,x as H,y as J,z as M,A as K,B as C,a as n,n as f,t as E,C as I,D as Q,E as W,G as D,I as X,i as N,F as T,l as j,o as S,c as R,H as F,k as Y,j as U,w as B,J as Z}from"./index-CRQ7E241.js";import{T as q}from"./index-Dpd8kvvX.js";import{B as ee}from"./index-Kx9tEJy0.js";import{_ as re}from"./_plugin-vue_export-helper-DlAUqK2U.js";const[ne,h]=A("image"),te={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:f,height:f,radius:f,lazyLoad:Boolean,iconSize:f,showError:E,errorIcon:I("photo-fail"),iconPrefix:String,showLoading:E,loadingIcon:I("photo"),crossorigin:String,referrerpolicy:String};var ae=$({name:ne,props:te,emits:["load","error"],setup(e,{emit:r,slots:u}){const s=k(!1),o=k(!0),l=k(),{$Lazyload:d}=V().proxy,b=G(()=>{const t={width:z(e.width),height:z(e.height)};return x(e.radius)&&(t.overflow="hidden",t.borderRadius=z(e.radius)),t});H(()=>e.src,()=>{s.value=!1,o.value=!0});const m=t=>{o.value&&(o.value=!1,r("load",t))},i=()=>{const t=new Event("load");Object.defineProperty(t,"target",{value:l.value,enumerable:!0}),m(t)},c=t=>{s.value=!0,o.value=!1,r("error",t)},g=(t,v,P)=>P?P():n(X,{name:t,size:e.iconSize,class:v,classPrefix:e.iconPrefix},null),y=()=>{if(o.value&&e.showLoading)return n("div",{class:h("loading")},[g(e.loadingIcon,h("loading-icon"),u.loading)]);if(s.value&&e.showError)return n("div",{class:h("error")},[g(e.errorIcon,h("error-icon"),u.error)])},w=()=>{if(s.value||!e.src)return;const t={alt:e.alt,class:h("img"),style:{objectFit:e.fit,objectPosition:e.position},crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy};return e.lazyLoad?Q(n("img",D({ref:l},t),null),[[W("lazy"),e.src]]):n("img",D({ref:l,src:e.src,onLoad:m,onError:c},t),null)},_=({el:t})=>{const v=()=>{t===l.value&&o.value&&i()};l.value?v():C(v)},L=({el:t})=>{t===l.value&&!s.value&&c()};return d&&J&&(d.$on("loaded",_),d.$on("error",L),M(()=>{d.$off("loaded",_),d.$off("error",L)})),K(()=>{C(()=>{var t;(t=l.value)!=null&&t.complete&&!e.lazyLoad&&i()})}),()=>{var t;return n("div",{class:h({round:e.round,block:e.block}),style:b.value},[w(),y(),(t=u.default)==null?void 0:t.call(u)])}}});const ie=N(ae),[ce,a]=A("card"),oe={tag:String,num:f,desc:String,thumb:String,title:String,price:f,centered:Boolean,lazyLoad:Boolean,currency:I("Â¥"),thumbLink:String,originPrice:f};var le=$({name:ce,props:oe,emits:["clickThumb"],setup(e,{slots:r,emit:u}){const s=()=>{if(r.title)return r.title();if(e.title)return n("div",{class:[a("title"),"van-multi-ellipsis--l2"]},[e.title])},o=()=>{if(r.tag||e.tag)return n("div",{class:a("tag")},[r.tag?r.tag():n(q,{mark:!0,type:"primary"},{default:()=>[e.tag]})])},l=()=>r.thumb?r.thumb():n(ie,{src:e.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:e.lazyLoad},null),d=()=>{if(r.thumb||e.thumb)return n("a",{href:e.thumbLink,class:a("thumb"),onClick:i=>u("clickThumb",i)},[l(),o()])},b=()=>{if(r.desc)return r.desc();if(e.desc)return n("div",{class:[a("desc"),"van-ellipsis"]},[e.desc])},m=()=>{const i=e.price.toString().split(".");return n("div",null,[n("span",{class:a("price-currency")},[e.currency]),n("span",{class:a("price-integer")},[i[0]]),i.length>1&&n(T,null,[j("."),n("span",{class:a("price-decimal")},[i[1]])])])};return()=>{var i,c,g;const y=r.num||x(e.num),w=r.price||x(e.price),_=r["origin-price"]||x(e.originPrice),L=y||w||_||r.bottom,t=w&&n("div",{class:a("price")},[r.price?r.price():m()]),v=_&&n("div",{class:a("origin-price")},[r["origin-price"]?r["origin-price"]():`${e.currency} ${e.originPrice}`]),P=y&&n("div",{class:a("num")},[r.num?r.num():`x${e.num}`]),O=r.footer&&n("div",{class:a("footer")},[r.footer()]),p=L&&n("div",{class:a("bottom")},[(i=r["price-top"])==null?void 0:i.call(r),t,v,P,(c=r.bottom)==null?void 0:c.call(r)]);return n("div",{class:a()},[n("div",{class:a("header")},[d(),n("div",{class:a("content",{centered:e.centered})},[n("div",null,[s(),b(),(g=r.tags)==null?void 0:g.call(r)]),p])]),O])}}});const ue=N(le),se=$({__name:"SearchResult",setup(e){const r=Y(),{tags:u}=r.query;console.log(u);const o=k([{id:123,username:"username",userAccount:"userAccount",avatarUrl:"https://zh-hans.react.dev/_next/image?url=%2Fimages%2Fuwu.png&w=384&q=75",profile:"profile",gender:1,phone:"phone",email:"email",userRole:0,planetCode:"planetCode",tags:["tag1","tag2","tag3"],createTime:new Date}]);return(l,d)=>{const b=q,m=ee,i=ue;return S(!0),R(T,null,F(o.value,c=>(S(),U(i,{num:"2",price:`role rule:${c.userRole}`,tag:c.planetCode,desc:c.profile,title:c.username,thumb:c.avatarUrl,class:"card"},{tags:B(()=>[(S(!0),R(T,null,F(c.tags,g=>(S(),U(b,{plain:"",type:"primary",style:{margin:"8px 8px 0 0"}},{default:B(()=>[j(Z(g),1)]),_:2},1024))),256))]),footer:B(()=>[n(m,{size:"mini"}),n(m,{size:"mini"})]),_:2},1032,["price","tag","desc","title","thumb"]))),256)}}}),ve=re(se,[["__scopeId","data-v-3b52a89d"]]);export{ve as default};
