import{W as k,aI as O,c as I,z as v,y as b,ao as R,S as V,C as E,V as h,g as S,B as W,E as L,D as A,an as D,ab as P,aJ as B}from"./index-xoCRylWD.js";var w=typeof window<"u";function y(n){return w?requestAnimationFrame(n):-1}function K(n){y(()=>y(n))}var H=n=>n===window,x=(n,e)=>({top:0,left:0,right:n,bottom:e,width:n,height:e}),X=n=>{const e=h(n);if(H(e)){const t=e.innerWidth,i=e.innerHeight;return x(t,i)}return e!=null&&e.getBoundingClientRect?e.getBoundingClientRect():x(0,0)};function $(n){const e=k(n,null);if(e){const t=S(),{link:i,unlink:o,internalChildren:s}=e;i(t),O(()=>o(t));const r=I(()=>s.indexOf(t));return{parent:e,index:r}}return{parent:null,index:v(-1)}}function N(n){const e=[],t=i=>{Array.isArray(i)&&i.forEach(o=>{var s;P(o)&&(e.push(o),(s=o.component)!=null&&s.subTree&&(e.push(o.component.subTree),t(o.component.subTree.children)),o.children&&t(o.children))})};return t(n),e}var C=(n,e)=>{const t=n.indexOf(e);return t===-1?n.findIndex(i=>e.key!==void 0&&e.key!==null&&i.type===e.type&&i.key===e.key):t};function M(n,e,t){const i=N(n.subTree.children);t.sort((s,r)=>C(i,s.vnode)-C(i,r.vnode));const o=t.map(s=>s.proxy);e.sort((s,r)=>{const u=o.indexOf(s),a=o.indexOf(r);return u-a})}function G(n){const e=b([]),t=b([]),i=S();return{children:e,linkChildren:s=>{W(n,Object.assign({link:a=>{a.proxy&&(t.push(a),e.push(a.proxy),M(i,e,t))},unlink:a=>{const c=t.indexOf(a);e.splice(c,1),t.splice(c,1)},children:e,internalChildren:t},s))}}}function _(n){let e;L(()=>{n(),A(()=>{e=!0})}),D(()=>{e&&n()})}function Q(n,e,t={}){if(!w)return;const{target:i=window,passive:o=!1,capture:s=!1}=t;let r=!1,u;const a=l=>{if(r)return;const d=h(l);d&&!u&&(d.addEventListener(n,e,{capture:s,passive:o}),u=!0)},c=l=>{if(r)return;const d=h(l);d&&u&&(d.removeEventListener(n,e,s),u=!1)};O(()=>c(i)),R(()=>c(i)),_(()=>a(i));let g;return V(i)&&(g=E(i,(l,d)=>{c(d),a(l)})),()=>{g==null||g(),c(i),r=!0}}var f,m;function j(){if(!f&&(f=v(0),m=v(0),w)){const n=()=>{f.value=window.innerWidth,m.value=window.innerHeight};n(),window.addEventListener("resize",n,{passive:!0}),window.addEventListener("orientationchange",n,{passive:!0})}return{width:f,height:m}}var p;function Z(){if(!p&&(p=v("visible"),w)){const n=()=>{p.value=document.hidden?"hidden":"visible"};n(),window.addEventListener("visibilitychange",n)}return p}var z=Symbol("van-field");function nn(n){const e=k(z,null);e&&!e.customValue.value&&(e.customValue.value=n,E(n,()=>{e.resetValidation(),e.validateWithTrigger("onChange")}))}function T(n,e){"scrollTop"in n?n.scrollTop=e:n.scrollTo(n.scrollX,e)}function F(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function J(n){T(window,n),T(document.body,n)}const U=B();function en(){U&&J(F())}const Y=n=>n.stopPropagation();function tn(n,e){(typeof n.cancelable!="boolean"||n.cancelable)&&n.preventDefault(),e&&Y(n)}function on(n){const e=h(n);if(!e)return!1;const t=window.getComputedStyle(e),i=t.display==="none",o=e.offsetParent===null&&t.position!=="fixed";return i||o}const{width:sn,height:rn}=j();export{z as C,Q as a,nn as b,X as c,Y as d,G as e,rn as f,F as g,Z as h,on as i,K as j,tn as p,en as r,J as s,$ as u,sn as w};
