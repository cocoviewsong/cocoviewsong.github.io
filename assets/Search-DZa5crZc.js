import{e as b,d as p,f as U,q as w,a as i,C,t as O,K as q,L as A,n as M,M as N,i as I,r as y,g as X,N as j,G as Y,p as Z,O as ee,P as te,Q as ne,s as ae,R as ce,I as le,o as $,c as F,b as se,w as x,S as oe,F as D,u as re,l as P,H as ie,j as de,J as ue}from"./index-CRQ7E241.js";import{B as ve}from"./index-Kx9tEJy0.js";import{T as fe}from"./index-Dpd8kvvX.js";import"./index-CbsGAf1m.js";import{f as z,u as me,F as he}from"./index-BgKKs6wc.js";const[G,ge]=b("row"),H=Symbol(G),pe={tag:C("div"),wrap:O,align:String,gutter:{type:[String,Number,Array],default:0},justify:String};var be=p({name:G,props:pe,setup(e,{slots:c}){const{children:a,linkChildren:m}=U(H),r=w(()=>{const l=[[]];let s=0;return a.forEach((t,o)=>{s+=Number(t.span),s>24?(l.push([o]),s-=24):l[l.length-1].push(o)}),l}),u=w(()=>{let l=0;Array.isArray(e.gutter)?l=Number(e.gutter[0])||0:l=Number(e.gutter);const s=[];return l&&r.value.forEach(t=>{const o=l*(t.length-1)/t.length;t.forEach((v,h)=>{if(h===0)s.push({right:o});else{const f=l-s[v-1].right,g=o-f;s.push({left:f,right:g})}})}),s}),d=w(()=>{const{gutter:l}=e,s=[];if(Array.isArray(l)&&l.length>1){const t=Number(l[1])||0;if(t<=0)return s;r.value.forEach((o,v)=>{v!==r.value.length-1&&o.forEach(()=>{s.push({bottom:t})})})}return s});return m({spaces:u,verticalSpaces:d}),()=>{const{tag:l,wrap:s,align:t,justify:o}=e;return i(l,{class:ge({[`align-${t}`]:t,[`justify-${o}`]:o,nowrap:!s})},{default:()=>{var v;return[(v=c.default)==null?void 0:v.call(c)]}})}}});const[Ie,_e]=b("col"),xe={tag:C("div"),span:A(0),offset:M};var ke=p({name:Ie,props:xe,setup(e,{slots:c}){const{parent:a,index:m}=q(H),r=w(()=>{if(!a)return;const{spaces:u,verticalSpaces:d}=a;let l={};if(u&&u.value&&u.value[m.value]){const{left:t,right:o}=u.value[m.value];l={paddingLeft:t?`${t}px`:null,paddingRight:o?`${o}px`:null}}const{bottom:s}=d.value[m.value]||{};return N(l,{marginBottom:s?`${s}px`:null})});return()=>{const{tag:u,span:d,offset:l}=e;return i(u,{style:r.value,class:_e({[d]:d,[`offset-${l}`]:l})},{default:()=>{var s;return[(s=c.default)==null?void 0:s.call(c)]}})}}});const ye=I(ke),[Ce,Se]=b("divider"),Ae={dashed:Boolean,hairline:O,vertical:Boolean,contentPosition:C("center")};var $e=p({name:Ce,props:Ae,setup(e,{slots:c}){return()=>{var a;return i("div",{role:"separator",class:Se({dashed:e.dashed,hairline:e.hairline,vertical:e.vertical,[`content-${e.contentPosition}`]:!!c.default&&!e.vertical})},[!e.vertical&&((a=c.default)==null?void 0:a.call(c))])}}});const Pe=I($e),we=I(be),[Ne,S,Ve]=b("search"),Be=N({},z,{label:String,shape:C("square"),leftIcon:C("search"),clearable:O,actionText:String,background:String,showAction:Boolean});var Ee=p({name:Ne,props:Be,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:c,slots:a,attrs:m}){const r=me(),u=y(),d=()=>{a.action||(c("update:modelValue",""),c("cancel"))},l=n=>{n.keyCode===13&&(Z(n),c("search",e.modelValue))},s=()=>e.id||`${r}-input`,t=()=>{if(a.label||e.label)return i("label",{class:S("label"),for:s(),"data-allow-mismatch":"attribute"},[a.label?a.label():e.label])},o=()=>{if(e.showAction){const n=e.actionText||Ve("cancel");return i("div",{class:S("action"),role:"button",tabindex:0,onClick:d},[a.action?a.action():n])}},v=()=>{var n;return(n=u.value)==null?void 0:n.blur()},h=()=>{var n;return(n=u.value)==null?void 0:n.focus()},f=n=>c("blur",n),g=n=>c("focus",n),_=n=>c("clear",n),V=n=>c("clickInput",n),B=n=>c("clickLeftIcon",n),E=n=>c("clickRightIcon",n),R=Object.keys(z),L=()=>{const n=N({},m,j(e,R),{id:s()}),T=W=>c("update:modelValue",W);return i(he,Y({ref:u,type:"search",class:S("field",{"with-message":n.errorMessage}),border:!1,onBlur:f,onFocus:g,onClear:_,onKeypress:l,onClickInput:V,onClickLeftIcon:B,onClickRightIcon:E,"onUpdate:modelValue":T},n),j(a,["left-icon","right-icon"]))};return X({focus:h,blur:v}),()=>{var n;return i("div",{class:S({"show-action":e.showAction}),style:{background:e.background}},[(n=a.left)==null?void 0:n.call(a),i("div",{class:S("content",e.shape)},[t(),L()]),o()])}}});const Re=I(Ee),[J,Le]=b("sidebar"),Q=Symbol(J),Te={modelValue:A(0)};var Fe=p({name:J,props:Te,emits:["change","update:modelValue"],setup(e,{emit:c,slots:a}){const{linkChildren:m}=U(Q),r=()=>+e.modelValue;return m({getActive:r,setActive:d=>{d!==r()&&(c("update:modelValue",d),c("change",d))}}),()=>{var d;return i("div",{role:"tablist",class:Le()},[(d=a.default)==null?void 0:d.call(a)])}}});const Oe=I(Fe),[je,K]=b("sidebar-item"),De=N({},ee,{dot:Boolean,title:String,badge:M,disabled:Boolean,badgeProps:Object});var Ke=p({name:je,props:De,emits:["click"],setup(e,{emit:c,slots:a}){const m=te(),{parent:r,index:u}=q(Q);if(!r)return;const d=()=>{e.disabled||(c("click",u.value),r.setActive(u.value),m())};return()=>{const{dot:l,badge:s,title:t,disabled:o}=e,v=u.value===r.getActive();return i("div",{role:"tab",class:K({select:v,disabled:o}),tabindex:o?void 0:0,"aria-selected":v,onClick:d},[i(ne,Y({dot:l,class:K("text"),content:s},e.badgeProps),{default:()=>[a.title?a.title():t]})])}}});const Ue=I(Ke),[qe,k]=b("tree-select"),Me={max:A(1/0),items:ce(),height:A(300),selectedIcon:C("success"),mainActiveIndex:A(0),activeId:{type:[Number,String,Array],default:0}};var Ye=p({name:qe,props:Me,emits:["clickNav","clickItem","update:activeId","update:mainActiveIndex"],setup(e,{emit:c,slots:a}){const m=t=>Array.isArray(e.activeId)?e.activeId.includes(t):e.activeId===t,r=t=>{const o=()=>{if(t.disabled)return;let v;if(Array.isArray(e.activeId)){v=e.activeId.slice();const h=v.indexOf(t.id);h!==-1?v.splice(h,1):v.length<+e.max&&v.push(t.id)}else v=t.id;c("update:activeId",v),c("clickItem",t)};return i("div",{key:t.id,class:["van-ellipsis",k("item",{active:m(t.id),disabled:t.disabled})],onClick:o},[t.text,m(t.id)&&i(le,{name:e.selectedIcon,class:k("selected")},null)])},u=t=>{c("update:mainActiveIndex",t)},d=t=>c("clickNav",t),l=()=>{const t=e.items.map(o=>i(Ue,{dot:o.dot,badge:o.badge,class:[k("nav-item"),o.className],disabled:o.disabled,onClick:d},{title:()=>a["nav-text"]?a["nav-text"](o):o.text}));return i(Oe,{class:k("nav"),modelValue:e.mainActiveIndex,onChange:u},{default:()=>[t]})},s=()=>{if(a.content)return a.content();const t=e.items[+e.mainActiveIndex]||{};if(t.children)return t.children.map(r)};return()=>i("div",{class:k(),style:{height:ae(e.height)}},[l(),i("div",{class:k("content")},[s()])])}});const ze=I(Ye),Ge={action:"/"},He={key:0},et=p({__name:"Search",setup(e){const c=re(),a=y(""),m=y(!0),r=y([]),u=y(0),d=[{text:"性别",children:[{text:"男",id:"男"},{text:"女",id:"女"}]},{text:"年纪",children:[{text:"大一",id:"大一"},{text:"大二",id:"大二"},{text:"大三",id:"大三"},{text:"大四",id:"大四"}]}],l=y(d),s=()=>{l.value=d.map(h=>{const f=[...h.children],g={...h};return g.children=f.filter(_=>_.text.includes(a.value)),g}).filter(h=>h.children.length>0)},t=()=>{a.value="",l.value=d},o=h=>{r.value=r.value.filter(f=>f!==h)},v=()=>{c.push({path:"/user/list",query:{tags:r.value}})};return(h,f)=>{const g=Re,_=Pe,V=fe,B=ye,E=we,R=ze,L=ve;return $(),F(D,null,[se("form",Ge,[i(g,{modelValue:a.value,"onUpdate:modelValue":f[0]||(f[0]=n=>a.value=n),"show-action":"",placeholder:"请输入要搜索的标题",onSearch:s,onCancel:t},null,8,["modelValue"])]),i(_,{"content-position":"left"},{default:x(()=>f[3]||(f[3]=[P("已选标签")])),_:1}),r.value.length===0?($(),F("div",He,"请选择标签")):oe("",!0),i(E,{gutter:[16,16],style:{padding:"0 16px"}},{default:x(()=>[($(!0),F(D,null,ie(r.value,n=>($(),de(B,null,{default:x(()=>[i(V,{show:m.value,closeable:"",size:"medium",type:"primary",onClose:T=>o(n)},{default:x(()=>[P(ue(n),1)]),_:2},1032,["show","onClose"])]),_:2},1024))),256))]),_:1}),i(_,{"content-position":"left"},{default:x(()=>f[4]||(f[4]=[P("选择标签")])),_:1}),i(R,{"active-id":r.value,"onUpdate:activeId":f[1]||(f[1]=n=>r.value=n),"main-active-index":u.value,"onUpdate:mainActiveIndex":f[2]||(f[2]=n=>u.value=n),items:l.value},null,8,["active-id","main-active-index","items"]),i(L,{block:"",type:"primary",onClick:v},{default:x(()=>f[5]||(f[5]=[P("确定")])),_:1})],64)}}});export{et as default};
