import{Y as k,aJ as O,D as I,r as v,C as b,aA as R,U as A,H as E,X as h,j as S,G as L,f as V,J as W,at as D,ab as H,aK as P}from"./index-C1SoRnHf.js";var w=typeof window<"u";function y(n){return w?requestAnimationFrame(n):-1}function X(n){y(()=>y(n))}var N=n=>n===window,x=(n,e)=>({top:0,left:0,right:n,bottom:e,width:n,height:e}),q=n=>{const e=h(n);if(N(e)){const t=e.innerWidth,i=e.innerHeight;return x(t,i)}return e!=null&&e.getBoundingClientRect?e.getBoundingClientRect():x(0,0)};function G(n){const e=k(n,null);if(e){const t=S(),{link:i,unlink:o,internalChildren:s}=e;i(t),O(()=>o(t));const r=I(()=>s.indexOf(t));return{parent:e,index:r}}return{parent:null,index:v(-1)}}function j(n){const e=[],t=i=>{Array.isArray(i)&&i.forEach(o=>{var s;H(o)&&(e.push(o),(s=o.component)!=null&&s.subTree&&(e.push(o.component.subTree),t(o.component.subTree.children)),o.children&&t(o.children))})};return t(n),e}var C=(n,e)=>{const t=n.indexOf(e);return t===-1?n.findIndex(i=>e.key!==void 0&&e.key!==null&&i.type===e.type&&i.key===e.key):t};function B(n,e,t){const i=j(n.subTree.children);t.sort((s,r)=>C(i,s.vnode)-C(i,r.vnode));const o=t.map(s=>s.proxy);e.sort((s,r)=>{const u=o.indexOf(s),a=o.indexOf(r);return u-a})}function $(n){const e=b([]),t=b([]),i=S();return{children:e,linkChildren:s=>{L(n,Object.assign({link:a=>{a.proxy&&(t.push(a),e.push(a.proxy),B(i,e,t))},unlink:a=>{const d=t.indexOf(a);e.splice(d,1),t.splice(d,1)},children:e,internalChildren:t},s))}}}function M(n){let e;V(()=>{n(),W(()=>{e=!0})}),D(()=>{e&&n()})}function Q(n,e,t={}){if(!w)return;const{target:i=window,passive:o=!1,capture:s=!1}=t;let r=!1,u;const a=l=>{if(r)return;const c=h(l);c&&!u&&(c.addEventListener(n,e,{capture:s,passive:o}),u=!0)},d=l=>{if(r)return;const c=h(l);c&&u&&(c.removeEventListener(n,e,s),u=!1)};O(()=>d(i)),R(()=>d(i)),M(()=>a(i));let m;return A(i)&&(m=E(i,(l,c)=>{d(c),a(l)})),()=>{m==null||m(),d(i),r=!0}}var f,g;function _(){if(!f&&(f=v(0),g=v(0),w)){const n=()=>{f.value=window.innerWidth,g.value=window.innerHeight};n(),window.addEventListener("resize",n,{passive:!0}),window.addEventListener("orientationchange",n,{passive:!0})}return{width:f,height:g}}var p;function Z(){if(!p&&(p=v("visible"),w)){const n=()=>{p.value=document.hidden?"hidden":"visible"};n(),window.addEventListener("visibilitychange",n)}return p}var F=Symbol("van-field");function nn(n){const e=k(F,null);e&&!e.customValue.value&&(e.customValue.value=n,E(n,()=>{e.resetValidation(),e.validateWithTrigger("onChange")}))}function T(n,e){"scrollTop"in n?n.scrollTop=e:n.scrollTo(n.scrollX,e)}function J(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function U(n){T(window,n),T(document.body,n)}const Y=P();function en(){Y&&U(J())}const z=n=>n.stopPropagation();function tn(n,e){(typeof n.cancelable!="boolean"||n.cancelable)&&n.preventDefault(),e&&z(n)}function on(n){const e=h(n);if(!e)return!1;const t=window.getComputedStyle(e),i=t.display==="none",o=e.offsetParent===null&&t.position!=="fixed";return i||o}const{width:sn,height:rn}=_();export{F as C,Q as a,nn as b,q as c,z as d,$ as e,rn as f,J as g,Z as h,on as i,X as j,tn as p,en as r,U as s,G as u,sn as w};
